import{g as ce,a as de,r as x,u as Z,d as Ce,T as we,b as Se,c as De,e as be,j as e,s as R,f as ee,h as te,i as re,m as pe,k as se,l as ze,D as Re,n as Ie,o as p,B as y,C as Te,p as Ee,I as H,q as K,t as Ae,v as O,w as G,x as Y,y as ke,z as Me,A as Pe,P as $e,E as Ne,F as We,G as ae,H as a,J as Ve,K as Le,L as Fe,M as ie,N as b,O as z,Q as Be}from"./index-B_M1yen5.js";function Ke(t){return ce("MuiCollapse",t)}de("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Oe=t=>{const{orientation:s,classes:n}=t,r={root:["root",`${s}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${s}`],wrapperInner:["wrapperInner",`${s}`]};return te(r,Ke,n)},He=R("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:n}=t;return[s.root,s[n.orientation],n.state==="entered"&&s.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&s.hidden]}})(pe(({theme:t})=>({height:0,overflow:"hidden",transition:t.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:t.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:s})=>s.state==="exited"&&!s.in&&s.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),Ue=R("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,s)=>s.wrapper})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),_e=R("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,s)=>s.wrapperInner})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),J=x.forwardRef(function(s,n){const r=Z({props:s,name:"MuiCollapse"}),{addEndListener:i,children:d,className:h,collapsedSize:l="0px",component:c,easing:u,in:w,onEnter:I,onEntered:v,onEntering:T,onExit:W,onExited:U,onExiting:C,orientation:g="vertical",style:k,timeout:j=Ce.standard,TransitionComponent:V=we,...M}=r,E={...r,orientation:g,collapsedSize:l},S=Oe(E),ne=Se(),xe=De(),D=x.useRef(null),_=x.useRef(),L=typeof l=="number"?`${l}px`:l,P=g==="horizontal",$=P?"width":"height",F=x.useRef(null),he=be(n,F),A=o=>m=>{if(o){const f=F.current;m===void 0?o(f):o(f,m)}},q=()=>D.current?D.current[P?"clientWidth":"clientHeight"]:0,ue=A((o,m)=>{D.current&&P&&(D.current.style.position="absolute"),o.style[$]=L,I&&I(o,m)}),me=A((o,m)=>{const f=q();D.current&&P&&(D.current.style.position="");const{duration:N,easing:B}=re({style:k,timeout:j,easing:u},{mode:"enter"});if(j==="auto"){const oe=ne.transitions.getAutoHeightDuration(f);o.style.transitionDuration=`${oe}ms`,_.current=oe}else o.style.transitionDuration=typeof N=="string"?N:`${N}ms`;o.style[$]=`${f}px`,o.style.transitionTimingFunction=B,T&&T(o,m)}),fe=A((o,m)=>{o.style[$]="auto",v&&v(o,m)}),ge=A(o=>{o.style[$]=`${q()}px`,W&&W(o)}),je=A(U),ye=A(o=>{const m=q(),{duration:f,easing:N}=re({style:k,timeout:j,easing:u},{mode:"exit"});if(j==="auto"){const B=ne.transitions.getAutoHeightDuration(m);o.style.transitionDuration=`${B}ms`,_.current=B}else o.style.transitionDuration=typeof f=="string"?f:`${f}ms`;o.style[$]=L,o.style.transitionTimingFunction=N,C&&C(o)}),ve=o=>{j==="auto"&&xe.start(_.current||0,o),i&&i(F.current,o)};return e.jsx(V,{in:w,onEnter:ue,onEntered:fe,onEntering:me,onExit:ge,onExited:je,onExiting:ye,addEndListener:ve,nodeRef:F,timeout:j==="auto"?null:j,...M,children:(o,{ownerState:m,...f})=>e.jsx(He,{as:c,className:ee(S.root,h,{entered:S.entered,exited:!w&&L==="0px"&&S.hidden}[o]),style:{[P?"minWidth":"minHeight"]:L,...k},ref:he,ownerState:{...E,state:o},...f,children:e.jsx(Ue,{ownerState:{...E,state:o},className:S.wrapper,ref:D,children:e.jsx(_e,{ownerState:{...E,state:o},className:S.wrapperInner,children:d})})})})});J&&(J.muiSupportAuto=!0);const qe=se(e.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Ge(t){return ce("MuiAvatar",t)}de("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Ye=t=>{const{classes:s,variant:n,colorDefault:r}=t;return te({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},Ge,s)},Je=R("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:n}=t;return[s.root,s[n.variant],n.colorDefault&&s.colorDefault]}})(pe(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),Qe=R("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,s)=>s.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Xe=R(qe,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,s)=>s.fallback})({width:"75%",height:"75%"});function Ze({crossOrigin:t,referrerPolicy:s,src:n,srcSet:r}){const[i,d]=x.useState(!1);return x.useEffect(()=>{if(!n&&!r)return;d(!1);let h=!0;const l=new Image;return l.onload=()=>{h&&d("loaded")},l.onerror=()=>{h&&d("error")},l.crossOrigin=t,l.referrerPolicy=s,l.src=n,r&&(l.srcset=r),()=>{h=!1}},[t,s,n,r]),i}const et=x.forwardRef(function(s,n){const r=Z({props:s,name:"MuiAvatar"}),{alt:i,children:d,className:h,component:l="div",slots:c={},slotProps:u={},imgProps:w,sizes:I,src:v,srcSet:T,variant:W="circular",...U}=r;let C=null;const g={...r,component:l,variant:W},k=Ze({...w,...typeof u.img=="function"?u.img(g):u.img,src:v,srcSet:T}),j=v||T,V=j&&k!=="error";g.colorDefault=!V,delete g.ownerState;const M=Ye(g),[E,S]=ze("img",{className:M.img,elementType:Qe,externalForwardedProps:{slots:c,slotProps:{img:{...w,...u.img}}},additionalProps:{alt:i,src:v,srcSet:T,sizes:I},ownerState:g});return V?C=e.jsx(E,{...S}):d||d===0?C=d:j&&i?C=i[0]:C=e.jsx(Xe,{ownerState:g,className:M.fallback}),e.jsx(Je,{as:l,className:ee(M.root,h),ref:n,...U,ownerState:g,children:C})}),tt=t=>{const{classes:s}=t;return te({root:["root"]},Ie,s)},st=R(p,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,s)=>s.root})({padding:"16px 24px",flex:"0 0 auto"}),Q=x.forwardRef(function(s,n){const r=Z({props:s,name:"MuiDialogTitle"}),{className:i,id:d,...h}=r,l=r,c=tt(l),{titleId:u=d}=x.useContext(Re);return e.jsx(st,{component:"h2",className:ee(c.root,i),ownerState:l,ref:n,variant:"h6",id:d??u,...h})}),X=se(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),nt=se(e.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),ot="_mobileView_1htoy_1",rt="_desktopView_1htoy_10",le={mobileView:ot,desktopView:rt},at=({status:t})=>{const s={active:{backgroundColor:"#d4edda",color:"#28a745"},inactive:{backgroundColor:"#f8d7da",color:"#dc3545"}},n=t==="active"?s.active:s.inactive;return e.jsxs(y,{sx:{...n,borderRadius:"5px",padding:"3px 9px",display:"inline-block",fontWeight:"bold",marginRight:"8px",marginTop:"8px",fontSize:"9px"},children:[t.charAt(0).toUpperCase()+t.slice(1)," "]})},it=()=>{const[t,s]=x.useState(!1),[n,r]=x.useState(!1),i=()=>{s(!t)},d=l=>{l.stopPropagation(),r(!0)},h=l=>{l.stopPropagation(),r(!1)};return e.jsxs(Te,{onClick:i,sx:{cursor:"pointer"},children:[e.jsxs(y,{sx:{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"2px"},children:[e.jsx(et,{sx:{bgcolor:Ee[500],height:33,fontSize:"13px",fontWeight:800},variant:"square",children:"123"}),e.jsxs(y,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(y,{children:e.jsx(p,{sx:{fontSize:"12px",fontWeight:"700"},children:"Raghu Sathe"})}),e.jsx(y,{children:e.jsxs(p,{sx:{fontSize:"10px",color:"text.secondary"},children:["Ganthan",e.jsx(H,{onClick:d,sx:{marginLeft:"2px",padding:0},children:e.jsx(X,{color:"primary",sx:{width:"13px",height:"13px"}})})]})})]}),e.jsx(at,{status:"active"})]}),e.jsx(K,{}),e.jsxs(y,{sx:{display:"flex",gap:1,padding:"0.5rem"},children:[e.jsxs(y,{children:[e.jsxs(p,{sx:{fontSize:"12px"},variant:"body1",gutterBottom:!0,children:[e.jsx(p,{sx:{fontSize:"12px"},component:"span",fontWeight:"bold",children:"Date:"})," 12 Dec 2024"]}),e.jsxs(p,{sx:{fontSize:"12px"},variant:"body1",gutterBottom:!0,children:[e.jsx(p,{sx:{fontSize:"12px"},component:"span",fontWeight:"bold",children:"Valid Till:"})," 12 Dec 2024"]})]}),e.jsx(K,{orientation:"vertical",flexItem:!0}),e.jsxs(y,{children:[e.jsxs(p,{sx:{fontSize:"12px"},variant:"body1",gutterBottom:!0,children:[e.jsx(p,{sx:{fontSize:"12px"},component:"span",fontWeight:"bold",children:"Amt:"})," 12000"]}),e.jsxs(p,{sx:{fontSize:"12px"},variant:"body1",gutterBottom:!0,children:[e.jsx(p,{sx:{fontSize:"12px"},component:"span",fontWeight:"bold",children:"ROI:"})," 3%"]})]}),e.jsx(K,{orientation:"vertical",flexItem:!0}),e.jsxs(y,{children:[e.jsxs(p,{sx:{fontSize:"12px"},variant:"body1",gutterBottom:!0,children:[e.jsx(p,{component:"span",fontWeight:"bold",sx:{fontSize:"12px"},children:"Merchant:"})," Swapnil"]}),e.jsxs(p,{sx:{fontSize:"12px"},variant:"body1",gutterBottom:!0,children:[e.jsx(p,{sx:{fontSize:"12px"},component:"span",fontWeight:"bold",children:"Due:"})," 12000"]})]})]}),e.jsx(K,{}),e.jsx(J,{in:t,timeout:"auto",unmountOnExit:!0,children:e.jsxs(Ae,{children:[e.jsx(p,{paragraph:!0,children:"This is the expanded content of the card. You can add more details here."}),e.jsx(O,{variant:"contained",color:"primary",children:"View"}),e.jsx(O,{variant:"contained",color:"secondary",sx:{marginLeft:"8px"},children:"Edit"}),e.jsx(O,{variant:"contained",color:"error",sx:{marginLeft:"8px"},children:"Delete"})]})}),e.jsxs(G,{open:n,onClose:h,children:[e.jsx(Q,{children:"Information"}),e.jsx(Y,{children:e.jsx(p,{children:"Here is some important information related to Raghu Sathe. You can add more details here as needed."})}),e.jsx(ke,{children:e.jsx(O,{onClick:h,color:"primary",children:"Close"})})]})]})};function lt(t){const{data:s}=t;return console.log("data ",s),e.jsx(it,{})}const ct=t=>{const{data:s}=t;console.log(s);const[n,r]=x.useState(null),[i,d]=x.useState(null),h=Me(),l=()=>"-";return e.jsxs(e.Fragment,{children:[e.jsx(Pe,{component:$e,sx:{width:"100%",mt:2},children:e.jsxs(Ne,{children:[e.jsx(We,{children:e.jsxs(ae,{children:[e.jsx(a,{children:"Sr."}),e.jsx(a,{children:"ID"}),e.jsx(a,{children:"Customer"}),e.jsx(a,{children:"Kalam"}),e.jsx(a,{children:"Start Date"}),e.jsx(a,{children:"Loan Amt"}),e.jsx(a,{children:"Amt Due"}),e.jsx(a,{children:"Customer ROI"}),e.jsx(a,{children:"Merchant"}),e.jsx(a,{children:"Today's Value"}),e.jsx(a,{children:"Validity"}),e.jsx(a,{children:"View Profile"})]})}),e.jsx(Ve,{children:s.map((c,u)=>{const w=new Date(c.kalam.loanDetails.loanStartDate),{totalMonths:I,days:v}=Le(w);return e.jsxs(ae,{children:[e.jsx(a,{children:u+1}),e.jsx(a,{children:c.kalam.loanId}),e.jsxs(a,{children:[c.customerDetails.name,e.jsx(H,{onClick:()=>r(c.customerDetails),children:e.jsx(X,{fontSize:"small",color:"primary"})})]}),e.jsxs(a,{children:[c.kalam.details.name,e.jsx(H,{onClick:()=>d(c.kalam),children:e.jsx(X,{fontSize:"small",color:"primary"})})]}),e.jsx(a,{children:c.kalam.loanDetails.loanStartDate}),e.jsxs(a,{children:["₹",c.kalam.loanDetails.customerAmt]}),e.jsxs(a,{children:["₹",Fe(c.kalam.loanDetails.customerAmt,c.kalam.loanDetails.customerROI*12,I,v)]}),e.jsxs(a,{children:[c.kalam.loanDetails.customerROI,"%"]}),e.jsx(a,{children:c.merchantDetails.shopName}),e.jsx(a,{children:l()}),e.jsx(a,{children:"-"}),e.jsx(a,{children:e.jsx(H,{onClick:()=>h(`/kalams/${u+1001}`),children:e.jsx(nt,{fontSize:"small",color:"primary"})})})]},c._id)})})]})}),e.jsxs(G,{open:!!n,onClose:()=>r(null),children:[e.jsx(Q,{children:"Customer Info"}),e.jsx(Y,{children:n&&e.jsxs(ie,{children:[e.jsx(b,{children:e.jsx(z,{primary:"Address",secondary:`${n.address.street}, ${n.address.city} - ${n.address.zip}`})}),n.contact.map((c,u)=>e.jsx(b,{component:"a",href:`tel:${c}`,children:e.jsx(z,{primary:"Phone",secondary:c})},u))]})})]}),e.jsxs(G,{open:!!i,onClose:()=>d(null),children:[e.jsx(Q,{children:"Kalam Details"}),e.jsx(Y,{children:i&&e.jsxs(ie,{children:[e.jsx(b,{children:e.jsx(z,{primary:"Type",secondary:i.details.materialType})}),e.jsx(b,{children:e.jsx(z,{primary:"Net Weight",secondary:`${i.details.netWeight}g`})}),e.jsx(b,{children:e.jsx(z,{primary:"Gross Weight",secondary:`${i.details.grossWeight}g`})}),e.jsx(b,{children:e.jsx(z,{primary:"Purity",secondary:`${i.details.purity}%`})}),e.jsx(b,{children:e.jsx(z,{primary:"Gold Rate at Loan",secondary:`₹${i.details.goldRateAtLoan}`})})]})})]})]})},dt=()=>{const t=x.useContext(Be);if(!t)throw new Error("useKalamsDataContext must be used within a KalamsDataProvider");return t},pt=()=>{const{data:t,loading:s,error:n,fetchData:r,invalidateCache:i}=dt();return{data:t,loading:s,error:n,fetchIfNeeded:()=>{t.length===0&&!s&&r()},invalidateCache:i}},ht=()=>{const{data:t,loading:s,error:n,fetchIfNeeded:r}=pt();return x.useEffect(()=>{r()},[r]),s?e.jsx("div",{children:"Loading..."}):n?e.jsxs("div",{children:["Error: ",n.message]}):e.jsxs("div",{children:[e.jsx("div",{className:le.mobileView,children:e.jsx(lt,{data:t})}),e.jsx("div",{className:le.desktopView,children:e.jsx(ct,{data:t})})]})};export{ht as default};
